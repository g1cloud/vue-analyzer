<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vue Analyzer Report</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; line-height: 1.6; color: #333; background-color: #f8f9fa; margin: 0; padding: 20px; }
    h1 { text-align: center; color: #2c3e50; }
    .file-report { background-color: #fff; border: 1px solid #dee2e6; border-radius: 8px; margin-bottom: 20px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
    h2 { color: #34495e; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
    h3 { color: #2980b9; margin-top: 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
    th { background-color: #ecf0f1; }
    td:first-child { font-weight: bold; color: #7f8c8d; width: 20%; }
    code { background-color: #ecf0f1; padding: 2px 5px; border-radius: 4px; }
    .no-data { color: #95a5a6; }
  </style>
</head>
<body>
  <h1>Vue Analyzer Report</h1>
  <p style="text-align: center; color: #7f8c8d;">Generated on <%= new Date().toLocaleString() %></p>

  <% results.forEach(result => { %>
    <div class="file-report">
      <h2>File: <code><%= result.filePath %></code></h2>

      <h3>Summary</h3>
      <table>
        <tr>
          <td>Script Type</td>
          <td><%= result.scriptType || 'none' %></td>
        </tr>
        <tr>
          <td>Style Blocks</td>
          <td><%= result.styleCount %></td>
        </tr>
      </table>

      <% if (result.imports.length) { %>
        <h3>Imports (<%= result.imports.length %>)</h3>
        <table>
          <% result.imports.forEach(imp => { %>
            <tr><td><code><%= imp %></code></td></tr>
          <% }) %>
        </table>
      <% } %>

      <% if (result.definedProps.length) { %>
        <h3>Defined Props (<%= result.definedProps.length %>)</h3>
        <table>
          <% result.definedProps.forEach(prop => { %>
            <tr><td><code><%= prop %></code></td></tr>
          <% }) %>
        </table>
      <% } %>

      <% if (result.components.length) { %>
        <h3>Component Usage (<%= result.components.length %>)</h3>
        <table>
          <thead><tr><th>Component Name</th><th>Props</th></tr></thead>
          <tbody>
            <% result.components.forEach(comp => { %>
              <tr>
                <td><code><%= comp.name %></code></td>
                <td>
                  <% Object.entries(comp.props).forEach(([key, value]) => { %>
                    <code><%= key %></code>: <code>"<%= value %>"</code><br>
                  <% }) %>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      <% } else { %>
        <h3>Component Usage</h3>
        <p class="no-data">No components found in template.</p>
      <% } %>

    </div>
  <% }) %>

</body>
</html>
